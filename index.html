<!DOCTYPE html>
<html lang="id" manifest="dreamos.appcache">
<head>
    <!-- ==================== META & PWA CONFIG ==================== -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="theme-color" content="#050810">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="DREAM OS">
    
    <!-- ISO STANDARDS META -->
    <meta name="standard" content="ISO 27001:2022, ISO 55001:2014, ISO 9001:2015">
    <meta name="compliance" content="GDPR, PDP, K3, OHS">
    <meta name="authority" content="Bapak Hanung Budianto S. E, Bapak Erwinsyah">
    
    <!-- SECURITY META - REVISED CSP -->
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self';
        script-src 'self' https://cdn.tailwindcss.com https://cdnjs.cloudflare.com 'unsafe-inline' 'wasm-unsafe-eval';
        style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com;
        img-src 'self' data: https: blob:;
        font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com;
        connect-src 'self' https://secure.dreamos-api.com wss:;
        media-src 'self' blob:;
        frame-ancestors 'none';
        base-uri 'self';
        form-action 'self';
    ">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains">
    
    <!-- PWA CONFIG -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23050810'/><text x='50' y='55' font-family='Amiri Local' font-size='24' fill='%2300ff9d' text-anchor='middle'>Ÿá</text></svg>">
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- AUTHOR & TEAM -->
    <meta name="author" content="Mr. M (The Ghost Architect) & Dream Team">
    <meta name="generator" content="Shalawat DNA Engine ‚Ä¢ Independent Build">
    <meta name="contributor" content="Mr. DSeek üßê, Mrs. Qwen üòè, Mrs. Gemini üòã">
    
    <title>DREAM OS v13.1.9 | ISO 27001/55001/9001 GOLD MASTER</title>
    
    <!-- ==================== CRITICAL CSS (LOAD FIRST) ==================== -->
    <style>
        /* === SYSTEM CORE - CRITICAL === */
        @font-face {
            font-family: 'Amiri Local';
            src: url('data:font/truetype;base64,AAEAAAAPAIAAA...') format('truetype');
            font-weight: 400;
            font-display: swap;
        }

        :root {
            --bg-deep: #050810;
            --glass-panel: rgba(20, 25, 40, 0.6);
            --neon-blue: #00f3ff;
            --neon-green: #00ff9d;
            --alert-red: #ff3333;
            --gold-vip: #d4af37;
            --text-main: #e2e8f0;
            --audit-red: #ff4d4f;
            --quality-blue: #1890ff;
            --asset-green: #52c41a;
        }

        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            -webkit-tap-highlight-color: transparent; 
        }
        
        body {
            background-color: var(--bg-deep);
            color: var(--text-main);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Inter', sans-serif;
            overflow: hidden;
            user-select: none;
            height: 100vh;
            width: 100vw;
            position: fixed;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Loading Screen */
        #loading-screen {
            position: fixed;
            inset: 0;
            background: linear-gradient(135deg, #0f172a, #020617);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s;
        }

        .loading-content {
            text-align: center;
            padding: 2rem;
        }

        .loading-logo {
            font-size: 4rem;
            color: var(--gold-vip);
            margin-bottom: 1rem;
            animation: pulse 2s infinite;
            font-family: 'Amiri Local', serif;
        }

        .iso-badge {
            font-family: 'Orbitron', monospace;
            font-size: 0.7rem;
            color: var(--neon-green);
            letter-spacing: 0.1em;
            margin: 1rem 0;
            padding: 0.3rem 0.8rem;
            background: rgba(0, 255, 157, 0.1);
            border-radius: 20px;
            display: inline-block;
        }

        /* Hide main app initially */
        #app-container { 
            opacity: 0; 
            transition: opacity 0.3s; 
            height: 100vh;
            overflow: hidden;
        }
        #app-container.loaded { opacity: 1; }
        
        /* Critical animations */
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
        }
        
        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }

        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }

        .hidden { display: none !important; }

        /* Glass Morphism Base */
        .glass-panel {
            background: rgba(20, 25, 40, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 1rem;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        /* Steganography watermark visual */
        .watermark {
            position: absolute;
            opacity: 0.02;
            pointer-events: none;
            user-select: none;
            font-family: 'Amiri Local';
            font-size: 8px;
            color: var(--neon-green);
        }
    </style>
    
    <!-- ==================== DEFERRED RESOURCES ==================== -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha384-..." crossorigin="anonymous" media="print" onload="this.media='all'">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet" integrity="sha384-..." crossorigin="anonymous" media="print" onload="this.media='all'">
    
    <!-- Tailwind CSS (slimmed version) -->
    <script src="https://cdn.tailwindcss.com" integrity="sha384-..." crossorigin="anonymous"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'neon-blue': '#00f3ff',
                        'neon-green': '#00ff9d',
                        'gold-vip': '#d4af37',
                        'alert-red': '#ff3333',
                        'bg-deep': '#050810'
                    },
                    fontFamily: {
                        'tech': ['Orbitron', 'monospace'],
                        'inter': ['Inter', 'sans-serif'],
                        'arabic': ['Amiri Local', 'serif']
                    },
                    animation: {
                        'ping-slow': 'ping 2s cubic-bezier(0, 0, 0.2, 1) infinite',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    }
                }
            }
        }
    </script>
</head>
<body>
    <!-- STEALTH WATERMARKS -->
    <div class="watermark" style="top: 10%; left: 5%; transform: rotate(-15deg);">ÿßŸÑŸÑŸáŸÖ ÿµŸÑ ÿπŸÑŸâ ÿ≥ŸäÿØŸÜÿß ŸÖÿ≠ŸÖÿØ</div>
    <div class="watermark" style="top: 30%; right: 10%; transform: rotate(10deg);">Dream OS v13.1.9</div>
    <div class="watermark" style="bottom: 20%; left: 15%; transform: rotate(5deg);">ISO 27001:2022</div>
    
    <!-- ==================== LOADING SCREEN ==================== -->
    <div id="loading-screen">
        <div class="loading-content">
            <div class="loading-logo">Ÿá</div>
            <h1 style="font-family: 'Orbitron'; font-size: 2rem; margin-bottom: 1rem; color: var(--neon-green);">DREAM OS v13.1.9</h1>
            <div class="iso-badge">ISO 27001 ‚Ä¢ 55001 ‚Ä¢ 9001 QUANTUM SEAL</div>
            <p style="color: #94a3b8; margin-top: 2rem;">Initializing Persistent Storage...</p>
            <div style="width: 200px; height: 3px; background: rgba(255,255,255,0.1); margin: 2rem auto; border-radius: 3px; overflow: hidden;">
                <div id="loading-bar" style="height: 100%; width: 0%; background: var(--neon-green); transition: width 0.3s;"></div>
            </div>
            <p style="font-size: 0.8rem; color: #64748b; margin-top: 2rem;">
                <span id="loading-status">Loading Quantum Vault...</span><br>
                Powered by: Mr. M & Dream Team<br>
                Device: <span id="loading-device">Verifying...</span>
            </p>
        </div>
    </div>

    <!-- ==================== MAIN APP CONTAINER ==================== -->
    <div id="app-container">
        <!-- GOLD MASTER SEAL -->
        <div class="gold-master-seal" style="position: fixed; top: 10px; right: 10px; z-index: 9999; font-family: 'Orbitron', monospace; font-size: 8px; color: #d4af37; opacity: 0.7; text-shadow: 0 0 5px rgba(212, 175, 55, 0.5); pointer-events: none; text-align: right; line-height: 1.2;">
            [QUANTUM SEAL: 2026-01-19]<br>
            DREAM OS v13.1.9 QUANTUM<br>
            PERSISTENT: <span id="storage-status">CHECKING</span>
        </div>

        <!-- SECURITY BADGE (ISO 27001) -->
        <div class="security-badge" id="security-badge" style="position: fixed; bottom: 15px; right: 15px; font-size: 7px; color: #00f3ff; opacity: 0.8; letter-spacing: 1.5px; font-family: 'Orbitron', monospace; background: rgba(0, 20, 40, 0.7); padding: 2px 8px; border-radius: 10px; border: 1px solid rgba(0, 243, 255, 0.2); z-index: 999; pointer-events: none; backdrop-filter: blur(4px);">
            ISO 27001: <span id="device-hash-short">VERIFYING</span>
        </div>

        <!-- HEADER -->
        <header style="height: 64px; display: flex; justify-content: space-between; align-items: center; padding: 0 20px; border-bottom: 1px solid rgba(255, 255, 255, 0.05); background: rgba(0, 0, 0, 0.2); backdrop-filter: blur(10px);">
            <div>
                <h1 style="font-family: 'Orbitron'; font-size: 1.25rem; font-weight: bold; color: white;">
                    SYSTEM<span style="color: #00ff9d;">v13</span> 
                    <span style="font-size: 0.625rem; background: linear-gradient(to right, rgba(212, 175, 55, 0.2), transparent); padding: 0.125rem 0.5rem; border-radius: 0.5rem; font-weight: normal; margin-left: 0.5rem;">QUANTUM SEAL</span>
                </h1>
                <div id="clock" style="font-size: 0.625rem; color: #00f3ff; font-family: monospace; font-weight: bold; margin-top: 0.125rem;">DEPOK HQ ‚Ä¢ --:--</div>
            </div>
            <div style="display: flex; gap: 16px; align-items: center;">
                <div style="text-align: right;">
                    <div style="font-size: 9px; color: #94a3b8; text-transform: uppercase; letter-spacing: 0.05em; font-weight: bold;">System Integrity</div>
                    <div style="font-size: 10px; font-weight: bold; display: flex; align-items: center; justify-content: flex-end; gap: 6px;">
                        <i class="fas fa-shield-check" style="color: #00ff9d;"></i>
                        <span id="system-status" class="animate-pulse">INITIALIZING</span>
                    </div>
                </div>
                <div id="weather-badge" style="width: 48px; height: 48px; border-radius: 50%; background: linear-gradient(135deg, rgba(30, 64, 175, 0.3), transparent); display: flex; align-items: center; justify-content: center; border: 1px solid rgba(0, 243, 255, 0.3); position: relative; overflow: hidden;">
                    <i class="fas fa-cloud-bolt" style="color: #fbbf24; font-size: 1.5rem; animation: pulse 2s infinite;"></i>
                </div>
            </div>
        </header>

        <!-- SLIDE BANNER -->
        <div id="slide-banner" style="height: 36px; background: linear-gradient(90deg, rgba(0, 30, 60, 0.9), transparent); border-bottom: 1px solid rgba(255, 255, 255, 0.08); display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden;">
            <div class="slide-text" id="slide-text" style="font-size: 10px; font-weight: 700; letter-spacing: 0.8px; color: #00ff9d; text-transform: uppercase; animation: slide-fade 8s infinite;">QUANTUM VAULT ACTIVATED ‚Ä¢ DATA PERSISTENCE ENABLED</div>
        </div>

        <!-- MAIN CONTENT -->
        <main style="flex: 1; overflow-y: auto; padding: 20px; padding-bottom: 80px;">
            <!-- SYSTEM NOTIFICATION -->
            <div style="margin-bottom: 24px; background: rgba(30, 58, 138, 0.2); border: 1px solid rgba(59, 130, 246, 0.3); border-radius: 8px; padding: 8px; overflow: hidden; position: relative;">
                <div style="white-space: nowrap; animation: marquee 18s linear infinite; font-size: 10px; font-weight: bold; color: #93c5fd; letter-spacing: 0.8px;">
                    INFO: STORAGE PERSISTENCE ENABLED ‚Ä¢ DATA TIDAK AKAN DIHAPUS OTOMATIS ‚Ä¢ KILL SWITCH ACTIVE ‚Ä¢ CLOUDFLARE SYNC READY
                </div>
            </div>

            <!-- MODULE GRID -->
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 24px;">
                <!-- Security Module -->
                <button onclick="DreamOS.App.openModule('security')" class="module-card" style="aspect-ratio: 1; border-radius: 16px; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 8px; background: rgba(20, 25, 40, 0.6); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.08); transition: all 0.2s; cursor: pointer;">
                    <div style="font-size: 2rem; color: #ef4444;"><i class="fas fa-shield-halved"></i></div>
                    <span style="font-size: 9px; font-weight: bold; color: #e2e8f0; text-transform: uppercase; letter-spacing: 0.05em;">Sekuriti 24/7</span>
                    <span style="font-size: 6px; background: rgba(255, 77, 79, 0.2); color: #ff4d4f; padding: 2px 6px; border-radius: 8px; font-weight: bold; letter-spacing: 0.5px;">QUANTUM</span>
                </button>

                <!-- K3 Module -->
                <button onclick="DreamOS.App.openModule('k3')" class="module-card" style="aspect-ratio: 1; border-radius: 16px; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 8px; background: rgba(20, 25, 40, 0.6); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.08); transition: all 0.2s; cursor: pointer;">
                    <div style="font-size: 2rem; color: #f59e0b;"><i class="fas fa-hard-hat"></i></div>
                    <span style="font-size: 9px; font-weight: bold; color: #e2e8f0; text-transform: uppercase; letter-spacing: 0.05em;">Form K3</span>
                    <span style="font-size: 6px; background: rgba(245, 158, 11, 0.2); color: #f59e0b; padding: 2px 6px; border-radius: 8px; font-weight: bold; letter-spacing: 0.5px;">STEGANO</span>
                </button>

                <!-- Admin Module -->
                <button onclick="DreamOS.App.openModule('admin')" class="module-card" style="aspect-ratio: 1; border-radius: 16px; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 8px; background: rgba(212, 175, 55, 0.05); backdrop-filter: blur(12px); border: 2px solid rgba(212, 175, 55, 0.3); transition: all 0.2s; cursor: pointer;">
                    <div style="font-size: 2rem; color: #d4af37;"><i class="fas fa-user-crown"></i></div>
                    <span style="font-size: 9px; font-weight: bold; color: #e2e8f0; text-transform: uppercase; letter-spacing: 0.05em;">Admin Room</span>
                    <span style="font-size: 6px; background: rgba(255, 77, 79, 0.2); color: #ff4d4f; padding: 2px 6px; border-radius: 8px; font-weight: bold; letter-spacing: 0.5px;">KILL SWITCH</span>
                </button>

                <!-- CS Indoor Module -->
                <button onclick="DreamOS.App.openModule('cs')" class="module-card" style="aspect-ratio: 1; border-radius: 16px; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 8px; background: rgba(20, 25, 40, 0.6); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.08); transition: all 0.2s; cursor: pointer;">
                    <div style="font-size: 2rem; color: #2dd4bf;"><i class="fas fa-broom"></i></div>
                    <span style="font-size: 9px; font-weight: bold; color: #e2e8f0; text-transform: uppercase; letter-spacing: 0.05em;">CS Indoor</span>
                    <span style="font-size: 6px; background: rgba(59, 130, 246, 0.2); color: #3b82f6; padding: 2px 6px; border-radius: 8px; font-weight: bold; letter-spacing: 0.5px;">PERSISTENT</span>
                </button>

                <!-- Asset Management -->
                <button onclick="DreamOS.App.openModule('asset')" class="module-card" style="aspect-ratio: 1; border-radius: 16px; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 8px; background: rgba(20, 25, 40, 0.6); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.08); transition: all 0.2s; cursor: pointer;">
                    <div style="font-size: 2rem; color: #a855f7;"><i class="fas fa-boxes-stacked"></i></div>
                    <span style="font-size: 9px; font-weight: bold; color: #e2e8f0; text-transform: uppercase; letter-spacing: 0.05em;">Asset Mgmt</span>
                    <span style="font-size: 6px; background: rgba(34, 197, 94, 0.2); color: #22c55e; padding: 2px 6px; border-radius: 8px; font-weight: bold; letter-spacing: 0.5px;">GEO-LOCK</span>
                </button>

                <!-- Report Generator -->
                <button onclick="DreamOS.App.openModule('report')" class="module-card" style="aspect-ratio: 1; border-radius: 16px; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 8px; background: rgba(20, 25, 40, 0.6); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.08); transition: all 0.2s; cursor: pointer;">
                    <div style="font-size: 2rem; color: #22c55e;"><i class="fas fa-file-contract"></i></div>
                    <span style="font-size: 9px; font-weight: bold; color: #e2e8f0; text-transform: uppercase; letter-spacing: 0.05em;">Reports</span>
                    <span style="font-size: 6px; background: rgba(168, 85, 247, 0.2); color: #a855f7; padding: 2px 6px; border-radius: 8px; font-weight: bold; letter-spacing: 0.5px;">CLOUDFLARE</span>
                </button>
            </div>

            <!-- AUDIT TRAIL -->
            <div style="margin-top: 32px;">
                <h3 style="font-size: 10px; font-weight: bold; color: #64748b; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 8px; padding-left: 4px; display: flex; align-items: center; gap: 8px;">
                    <i class="fas fa-clipboard-list" style="color: #00f3ff;"></i>
                    Quantum Audit Log
                </h3>
                <div class="glass-panel" style="padding: 12px;">
                    <div style="display: flex; justify-content: space-between; font-size: 9px; padding-bottom: 4px; margin-bottom: 8px; border-bottom: 1px solid rgba(255, 255, 255, 0.05);">
                        <span style="color: #00ff9d; font-family: monospace;">QUANTUM_VAULT_INIT</span>
                        <span style="color: #94a3b8;" id="log-time-1">--:--:--</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-size: 9px; padding-bottom: 4px; margin-bottom: 8px; border-bottom: 1px solid rgba(255, 255, 255, 0.05);">
                        <span style="color: #60a5fa; font-family: monospace;">STORAGE_PERSIST_OK</span>
                        <span style="color: #94a3b8;" id="log-time-2">--:--:--</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-size: 9px;">
                        <span style="color: #fbbf24; font-family: monospace;">GEOLOCK_VERIFIED</span>
                        <span style="color: #94a3b8;" id="log-time-3">--:--:--</span>
                    </div>
                </div>
            </div>

            <!-- STORAGE STATUS -->
            <div style="margin-top: 24px;">
                <h3 style="font-size: 10px; font-weight: bold; color: #64748b; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 8px; padding-left: 4px; display: flex; align-items: center; gap: 8px;">
                    <i class="fas fa-database" style="color: #a855f7;"></i>
                    Quantum Storage Status
                </h3>
                <div class="glass-panel" style="padding: 16px;">
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; font-size: 9px;">
                        <div>
                            <div style="color: #94a3b8; margin-bottom: 4px;">Persistence</div>
                            <div style="font-weight: bold; color: #00ff9d; font-family: 'Orbitron';" id="persistence-status">CHECKING</div>
                        </div>
                        <div>
                            <div style="color: #94a3b8; margin-bottom: 4px;">Backup Status</div>
                            <div style="font-weight: bold; color: #00ff9d; font-family: 'Orbitron';" id="backup-status">OFFLINE</div>
                        </div>
                        <div>
                            <div style="color: #94a3b8; margin-bottom: 4px;">Encryption</div>
                            <div style="font-weight: bold; color: #00ff9d; font-family: 'Orbitron';" id="encryption-status">AES-256-GCM</div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- NAVIGATION -->
        <nav style="height: 80px; background: rgba(2, 4, 8, 0.9); backdrop-filter: blur(20px); border-top: 1px solid rgba(255, 255, 255, 0.1); display: flex; justify-content: space-around; align-items: center; padding: 0 16px; position: fixed; bottom: 0; left: 0; right: 0; z-index: 50;">
            <button onclick="DreamOS.App.goHome()" style="display: flex; flex-direction: column; align-items: center; gap: 4px; color: #6b7280; transition: all 0.2s; background: none; border: none; cursor: pointer;">
                <i class="fas fa-house" style="font-size: 1.125rem;"></i>
                <span style="font-size: 8px; font-weight: bold;">Home</span>
            </button>
            
            <button onclick="DreamOS.App.togglePrivacy()" style="width: 64px; height: 64px; background: linear-gradient(135deg, #1a1f2e, #050810); border-radius: 50%; border: 2px solid rgba(0, 243, 255, 0.3); box-shadow: 0 0 25px rgba(0, 243, 255, 0.35); display: flex; align-items: center; justify-content: center; color: #00f3ff; position: relative; cursor: pointer; margin-top: -32px;">
                <div style="position: absolute; inset: 0; border-radius: 50%; border: 2px solid rgba(0, 243, 255, 0.5); opacity: 0.5; animation: ping 2s infinite;"></div>
                <i id="privacy-icon" class="fas fa-eye" style="font-size: 1.25rem;"></i>
            </button>

            <button onclick="DreamOS.App.triggerLockout()" style="display: flex; flex-direction: column; align-items: center; gap: 4px; color: #6b7280; transition: all 0.2s; background: none; border: none; cursor: pointer;">
                <i class="fas fa-power-off" style="font-size: 1.125rem;"></i>
                <span style="font-size: 8px; font-weight: bold;">Lock</span>
            </button>
        </nav>

        <!-- MODAL CONTAINER -->
        <div id="app-modal" style="position: fixed; inset: 0; background: rgba(0, 3, 8, 0.95); z-index: 100; backdrop-filter: blur(8px); display: none; flex-direction: column; justify-content: flex-end;">
            <div class="modal-window" style="background: linear-gradient(180deg, #0b101b 0%, #050810 100%); height: 92vh; width: 100%; border-radius: 30px 30px 0 0; border-top: 1px solid rgba(0, 243, 255, 0.2); display: flex; flex-direction: column; position: relative; box-shadow: 0 -10px 40px rgba(0, 0, 0, 0.8);">
                <div class="modal-header" style="height: 48px; display: flex; align-items: center; justify-content: space-between; padding: 0 24px; border-bottom: 1px solid rgba(255, 255, 255, 0.05);">
                    <div style="width: 16px;"></div>
                    <div class="modal-title" id="modal-title" style="font-family: 'Orbitron', monospace; font-weight: 800; font-size: 14px; color: white; letter-spacing: 0.5px;">QUANTUM MODULE</div>
                    <div class="modal-close" onclick="DreamOS.App.closeModal()" style="width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; color: #ff3333; font-size: 18px; cursor: pointer; transition: all 0.2s;">
                        <i class="fas fa-times"></i>
                    </div>
                </div>
                <div id="modal-content" style="flex: 1; overflow-y: auto; padding: 20px;">
                    <!-- Content will be injected by JavaScript -->
                </div>
            </div>
        </div>

        <!-- LOCKDOWN SCREEN -->
        <div id="lockdown-screen" class="hidden" style="position: fixed; inset: 0; background: linear-gradient(135deg, #0f172a, #020617); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 9999; text-align: center; padding: 20px;">
            <div style="font-size: 6rem; color: #ff3333; margin-bottom: 20px; animation: pulse 1.5s infinite;">
                <i class="fas fa-skull"></i>
            </div>
            <h1 style="font-family: 'Orbitron'; font-size: 3rem; font-weight: bold; color: white; margin-bottom: 8px;">QUANTUM LOCKDOWN</h1>
            <p style="font-size: 1.125rem; color: #cbd5e1; margin-bottom: 24px; max-width: 28rem;">Kill Switch activated. Data secured. System will unlock after countdown.</p>
            <div class="lockdown-timer" id="lockdown-timer" style="font-family: 'Orbitron', monospace; font-size: 3rem; font-weight: bold; color: #00f3ff; margin: 20px 0; text-shadow: 0 0 15px rgba(0, 243, 255, 0.5);">05:00</div>
            <div style="color: #94a3b8; font-size: 10px;">
                Device Hash: <span id="lockdown-hash" style="font-family: monospace;">VERIFIED</span>
            </div>
        </div>

        <!-- AUTH SCREEN -->
        <div id="auth-screen" class="auth-screen" style="position: fixed; inset: 0; background: linear-gradient(135deg, #020617, #0f172a); z-index: 9999; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 16px; transition: opacity 0.5s;">
            <div style="text-align: center; margin-bottom: 32px; position: relative;">
                <div style="font-size: 6rem; color: #d4af37; margin-bottom: 16px; animation: pulse 2s infinite; font-family: 'Amiri Local', serif;">Ÿá</div>
                <div style="position: absolute; inset: 0; filter: blur(32px); background: linear-gradient(to right, rgba(0, 255, 157, 0.2), rgba(212, 175, 55, 0.2)); border-radius: 50%; animation: pulse 2s infinite;"></div>
            </div>
            
            <div class="glass-panel" style="width: 100%; max-width: 28rem; padding: 24px; border: 1px solid rgba(0, 243, 255, 0.2);">
                <h1 style="font-family: 'Orbitron'; font-size: 2rem; font-weight: bold; color: white; text-align: center; margin-bottom: 8px;">SYSTEM v13</h1>
                <p style="text-align: center; color: #94a3b8; margin-bottom: 24px;">QUANTUM SEAL ‚Ä¢ ISO 27001 CERTIFIED</p>
                
                <div style="margin-bottom: 24px;">
                    <div style="margin-bottom: 16px;">
                        <label style="display: block; font-size: 10px; color: #94a3b8; font-weight: bold; text-transform: uppercase; letter-spacing: 0.8px; margin-bottom: 4px;">PILIH AKSES</label>
                        <select id="login-module" style="width: 100%; background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.1); color: white; padding: 12px; border-radius: 8px; font-size: 14px; font-family: 'Inter', sans-serif;" onchange="DreamOS.Auth.updateCredentials()">
                            <option value="">-- Pilih Level Akses --</option>
                            <option value="umum">User Umum (Booking & K3)</option>
                            <option value="sekuriti">Laporan Harian Sekuriti</option>
                            <option value="admin">Admin System</option>
                            <option value="cs">Checklist CS Harian</option>
                            <option value="stok">Stok & Alat CS/Taman</option>
                            <option value="maintenance">Form Maintenance</option>
                            <option value="inventaris">Inventaris</option>
                            <option value="gudang">Gudang</option>
                            <option value="master">MASTER KEY (Ghost Architect)</option>
                        </select>
                    </div>
                    
                    <div id="credential-fields">
                        <div style="margin-bottom: 16px;">
                            <label style="display: block; font-size: 10px; color: #94a3b8; font-weight: bold; text-transform: uppercase; letter-spacing: 0.8px; margin-bottom: 4px;">USERNAME</label>
                            <input type="text" id="login-username" style="width: 100%; background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.1); color: white; padding: 12px; border-radius: 8px; font-size: 14px; font-family: 'Inter', sans-serif;" placeholder="Masukkan username resmi">
                        </div>
                        
                        <div style="margin-bottom: 16px;">
                            <label style="display: block; font-size: 10px; color: #94a3b8; font-weight: bold; text-transform: uppercase; letter-spacing: 0.8px; margin-bottom: 4px;">PASSWORD</label>
                            <div style="position: relative;">
                                <input type="password" id="login-password" style="width: 100%; background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.1); color: white; padding: 12px; padding-right: 48px; border-radius: 8px; font-size: 14px; font-family: 'Inter', sans-serif;" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                                <button id="toggle-pass" style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); background: none; border: none; color: #6b7280; cursor: pointer; padding: 4px;">
                                    <i class="fas fa-eye" style="font-size: 1.25rem;"></i>
                                </button>
                            </div>
                            <div id="credential-hint" style="font-size: 9px; color: #fbbf24; margin-top: 4px; text-align: right; font-weight: bold;">
                                ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢
                            </div>
                        </div>
                    </div>
                    
                    <button onclick="DreamOS.Auth.login()" style="width: 100%; margin-top: 8px; padding: 12px; background: linear-gradient(to right, #00f3ff, #d4af37); color: black; font-weight: bold; border-radius: 12px; border: none; cursor: pointer; transition: opacity 0.2s; display: flex; align-items: center; justify-content: center; gap: 8px;">
                        <i class="fas fa-fingerprint"></i> MASUK DENGAN AMANAH
                    </button>
                    
                    <div id="master-key-section" class="hidden" style="margin-top: 16px; padding: 12px; background: rgba(0, 0, 0, 0.3); border-radius: 8px; border: 1px solid rgba(212, 175, 55, 0.3); display: flex; align-items: flex-start; gap: 8px;">
                        <i class="fas fa-user-secret" style="color: #d4af37; font-size: 1.25rem; margin-top: 2px;"></i>
                        <span style="font-size: 11px; color: #d4af37;">GHOST MODE: Tidak ada log aktivitas. Akses penuh ke semua modul.</span>
                    </div>
                </div>
                
                <div style="margin-top: 24px; padding-top: 16px; border-top: 1px solid rgba(255, 255, 255, 0.05); text-align: center; font-size: 9px; color: #64748b;">
                    <p>Dream OS v13.1.9 ‚Ä¢ QUANTUM SEAL ‚Ä¢ Storage: <span id="auth-storage-status" style="font-family: monospace;">PERSISTENT</span></p>
                    <p style="font-size: 8px; color: #475569; font-style: italic; margin-top: 8px;">
                        Handcrafted & Powered by: Mr. M & Dream Team (Independent Project)
                    </p>
                </div>
            </div>
        </div>

        <!-- GHOST FINGERPRINT WIDGET -->
        <div id="ghost-fingerprint-widget" class="hidden" style="position: fixed; bottom: 112px; right: 24px; width: 56px; height: 56px; z-index: 999; opacity: 0; pointer-events: none; transition: all 0.3s;">
            <div style="background: linear-gradient(135deg, #0a0f1a, #020408); border-radius: 16px; border: 1px solid rgba(212, 175, 55, 0.2); padding: 8px; box-shadow: 0 0 20px rgba(212, 175, 55, 0.2);">
                <div style="width: 40px; height: 40px; margin: 0 auto; background: #050810; border-radius: 12px; border: 1px solid rgba(212, 175, 55, 0.3); display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden;">
                    <div style="position: absolute; inset: 0; background: linear-gradient(135deg, rgba(212, 175, 55, 0.05), transparent); animation: pulse 2s infinite;"></div>
                    <i class="fas fa-fingerprint" style="color: #d4af37; font-size: 1.5rem;"></i>
                </div>
                <div style="margin-top: 8px; font-size: 8px; text-align: center; color: #d4af37; font-weight: bold; letter-spacing: 1.6px;">GHOST</div>
            </div>
        </div>
    </div>

    <!-- ==================== NON-CRITICAL CSS (LOADED BY JS) ==================== -->
    <script>
        // Load non-critical CSS dengan animasi tambahan
        (function() {
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slide-fade {
                    0%, 100% { opacity: 0; transform: translateY(10px); }
                    10%, 90% { opacity: 1; transform: translateY(0); }
                }
                
                @keyframes marquee {
                    0% { transform: translateX(100%); }
                    100% { transform: translateX(-100%); }
                }
                
                @keyframes thunder-pulse {
                    0%, 100% { opacity: 1; filter: brightness(1); }
                    50% { opacity: 0.7; filter: brightness(1.2) contrast(1.2); }
                }
                
                .strike-mode {
                    animation: thunder-pulse 0.08s infinite alternate;
                    filter: invert(1) saturate(0.8);
                }
                
                .module-card:hover {
                    background: rgba(255, 255, 255, 0.05);
                    transform: scale(0.97);
                }
                
                .module-card:active {
                    transform: scale(0.95);
                }
                
                /* Scrollbar styling */
                ::-webkit-scrollbar {
                    width: 4px;
                }
                
                ::-webkit-scrollbar-track {
                    background: rgba(0, 0, 0, 0.3);
                }
                
                ::-webkit-scrollbar-thumb {
                    background: #00f3ff;
                    border-radius: 2px;
                }
                
                /* Responsive grid */
                @media (max-width: 640px) {
                    .module-grid {
                        grid-template-columns: repeat(2, 1fr) !important;
                    }
                }
                
                /* Print styles for reports */
                @media print {
                    body * {
                        visibility: hidden;
                    }
                    .a4-paper, .a4-paper * {
                        visibility: visible;
                    }
                    .a4-paper {
                        position: absolute;
                        left: 0;
                        top: 0;
                        width: 210mm;
                        min-height: 297mm;
                    }
                }
            `;
            document.head.appendChild(style);
        })();
    </script>

    <!-- ==================== DREAM OS QUANTUM ENGINE v13.1.9 ==================== -->
    <script>
        /* =======================================================
           DREAM OS v13.1.9 - QUANTUM SEAL ENGINE
           ISO 27001 ‚Ä¢ 55001 ‚Ä¢ 9001 QUANTUM SEAL
           Architect: Mr. M | Team: Gemini, Qwen, DSeek
           Bismillah bi idznillah
        ========================================================= */

        // ==================== [ZONA 0: SPIRITUAL DNA LAYER] ====================
        (function(DREAM_TEAM) {
            "use strict";

            const SPIRITUAL_DNA = "ÿßŸÑŸÑŸáŸÖ ÿµŸÑ ÿπŸÑŸâ ÿ≥ŸäÿØŸÜÿß ŸÖÿ≠ŸÖÿØ";
            const SHALAWAT_FINGERPRINT = btoa(SPIRITUAL_DNA);

            const Executioner = {
                strike: function(target) {
                    console.error(`üö® DEPOK LIGHTNING STRIKE: ${target}`);
                    
                    try {
                        localStorage.setItem('STRIKE_LOG', SHALAWAT_FINGERPRINT.repeat(500));
                        indexedDB.deleteDatabase('DreamOS_QuantumVault');
                    } catch (e) {}
                    
                    document.body.innerHTML = `
                        <div style="
                            background: linear-gradient(135deg, #0f2a1d, #0a1e15);
                            color: #4ade80; 
                            height:100vh; 
                            display:flex; 
                            align-items:center; 
                            justify-content:center; 
                            font-family: 'Segoe UI', sans-serif;
                            text-align:center; 
                            padding:2rem;">
                            <div>
                                <div style="font-size:3rem; margin-bottom:1rem; font-family: 'Amiri Local', serif;">Ÿá</div>
                                <h3>Bismillah bi idznillah</h3>
                                <p>Sistem sedang dalam mode perlindungan.<br>
                                Hanya saudara sejiwa yang bisa membuka kembali.</p>
                                <p style="margin-top:2rem; font-size:0.8rem; color:#86efac;">
                                    Insiden: ${target}<br>
                                    Time: ${new Date().toLocaleString()}
                                </p>
                            </div>
                        </div>
                    `;
                    
                    setTimeout(() => {
                        if (window.location.hash === '#ghost-architect') {
                            location.reload();
                        }
                    }, 10000);
                }
            };

            const Guardian = {
                init: function() {
                    // Deteksi AI/Agent/Bot
                    const isEvilAgent = !navigator.languages || 
                                       navigator.webdriver || 
                                       /bot|spider|crawl|python|curl|headless|phantom/i.test(navigator.userAgent);
                    
                    if (isEvilAgent) {
                        Executioner.strike("EVIL_AGENT_DETECTED");
                        return;
                    }
                    
                    // Anti-Inspect Element Trap
                    const trap = /./;
                    trap.toString = function() {
                        Executioner.strike("DEV_TOOLS_ACTIVATED");
                        return '[PROTECTED_BY_DREAM_TEAM]';
                    };
                    
                    console.log('%c', trap);
                    console.log(`%c ${SPIRITUAL_DNA} `, "color:gold; font-weight:bold; font-size:16px;");
                }
            };

            window.GetLaporanISO = () => {
                return {
                    target: "Bapak Hanung Budianto S. E",
                    coordinator: "Bapak Erwinsyah",
                    timestamp: new Date().toISOString(),
                    status: "ISO_VERIFIED_BY_DREAM_TEAM_v13.1.9",
                    dna: SHALAWAT_FINGERPRINT.substring(0, 12) + "..."
                };
            };

            // Jalankan sebelum DOM siap
            Guardian.init();

        })(window);

        // ==================== [ZONA 1: QUANTUM SECURE STORAGE PERSISTENT] ====================
        const QuantumVault = {
            db: null,
            dbName: 'DreamOS_QuantumVault_v13',
            storeName: 'EncryptedData',
            version: 4,
            isPersistent: false,
            
            async init() {
                return new Promise((resolve, reject) => {
                    if (!window.indexedDB) {
                        console.warn('IndexedDB not supported, using secure fallback');
                        resolve();
                        return;
                    }
                    
                    const request = indexedDB.open(this.dbName, this.version);
                    
                    request.onupgradeneeded = (event) => {
                        const db = event.target.result;
                        if (!db.objectStoreNames.contains(this.storeName)) {
                            db.createObjectStore(this.storeName);
                        }
                    };
                    
                    request.onsuccess = async (event) => {
                        this.db = event.target.result;
                        console.log('üîê Quantum Vault Initialized');
                        
                        // Cek persistent storage
                        await this.checkPersistentStorage();
                        
                        // Auto-cleanup setiap 24 jam
                        setInterval(() => this.cleanupOldData(), 24 * 60 * 60 * 1000);
                        
                        resolve();
                    };
                    
                    request.onerror = (event) => {
                        console.error('Quantum Vault Error:', event.target.error);
                        reject(event.target.error);
                    };
                });
            },
            
            async checkPersistentStorage() {
                if (navigator.storage && navigator.storage.persist) {
                    try {
                        const isPersisted = await navigator.storage.persisted();
                        
                        if (!isPersisted) {
                            const permission = await navigator.storage.persist();
                            this.isPersistent = permission;
                            
                            if (permission) {
                                console.log('‚úÖ Storage persistence granted');
                                DreamOS.App.updatePersistenceStatus('PERSISTENT');
                                
                                // Buat recovery key
                                await this.createRecoveryKey();
                            } else {
                                console.warn('‚ö†Ô∏è Storage persistence denied');
                                DreamOS.App.updatePersistenceStatus('VOLATILE');
                                
                                // Start periodic backup
                                this.startPeriodicBackup();
                            }
                        } else {
                            this.isPersistent = true;
                            console.log('‚úÖ Storage already persistent');
                            DreamOS.App.updatePersistenceStatus('PERSISTENT');
                        }
                    } catch (error) {
                        console.error('Persistent storage check failed:', error);
                        DreamOS.App.updatePersistenceStatus('UNKNOWN');
                    }
                } else {
                    console.warn('Persistent Storage API not available');
                    DreamOS.App.updatePersistenceStatus('LEGACY');
                }
            },
            
            async generateQuantumKey() {
                try {
                    // Layer 1: WebCrypto hardware entropy
                    const hardwareEntropy = await crypto.subtle.digest(
                        'SHA-512',
                        new Uint8Array(await crypto.getRandomValues(new Uint8Array(64)))
                    );
                    
                    // Layer 2: Performance API timing entropy
                    const perfEntropy = performance.now() + performance.memory.usedJSHeapSize;
                    
                    // Layer 3: User behavior entropy
                    const userEntropy = DreamOS.App.state.userBehaviorHash || Date.now();
                    
                    // Combine dengan Shalawat DNA
                    const baseKey = await crypto.subtle.importKey(
                        'raw',
                        await crypto.subtle.digest('SHA-512', 
                            new TextEncoder().encode(
                                `${hardwareEntropy}_${perfEntropy}_${userEntropy}_ÿßŸÑŸÑŸáŸÖ ÿµŸÑ ÿπŸÑŸâ ÿ≥ŸäÿØŸÜÿß ŸÖÿ≠ŸÖÿØ`
                            )
                        ),
                        { name: 'HKDF' },
                        false,
                        ['deriveKey']
                    );
                    
                    return await crypto.subtle.deriveKey(
                        {
                            name: 'HKDF',
                            salt: new TextEncoder().encode('DREAM_OS_QUANTUM_SALT_v13'),
                            info: new TextEncoder().encode('Key for Quantum Vault'),
                            hash: 'SHA-512'
                        },
                        baseKey,
                        { name: 'AES-GCM', length: 256 },
                        false,
                        ['encrypt', 'decrypt']
                    );
                } catch (error) {
                    console.error('Quantum Key Generation Error:', error);
                    throw new Error('QUANTUM_KEY_GENERATION_FAILED');
                }
            },
            
            async encrypt(data) {
                try {
                    const key = await this.generateQuantumKey();
                    const iv = crypto.getRandomValues(new Uint8Array(12));
                    const encoder = new TextEncoder();
                    
                    const encrypted = await crypto.subtle.encrypt(
                        {
                            name: 'AES-GCM',
                            iv: iv,
                            tagLength: 128
                        },
                        key,
                        encoder.encode(JSON.stringify(data))
                    );
                    
                    return {
                        iv: Array.from(iv),
                        data: Array.from(new Uint8Array(encrypted)),
                        timestamp: Date.now(),
                        keyHash: await this.generateKeyHash(key)
                    };
                } catch (error) {
                    console.error('Encryption Error:', error);
                    return null;
                }
            },
            
            async decrypt(encryptedData) {
                try {
                    // Verifikasi key hash
                    if (!await this.verifyKeyHash(encryptedData.keyHash)) {
                        console.warn('Key hash mismatch - auto wipe triggered');
                        await this.autoWipe();
                        return null;
                    }
                    
                    const decrypted = await crypto.subtle.decrypt(
                        {
                            name: 'AES-GCM',
                            iv: new Uint8Array(encryptedData.iv)
                        },
                        await this.generateQuantumKey(),
                        new Uint8Array(encryptedData.data)
                    );
                    
                    const decoder = new TextDecoder();
                    return JSON.parse(decoder.decode(decrypted));
                } catch (error) {
                    console.warn('Auto-wipe triggered:', error.message);
                    await this.autoWipe();
                    return null;
                }
            },
            
            async set(key, value) {
                if (!this.db) await this.init();
                
                const encrypted = await this.encrypt(value);
                if (!encrypted) {
                    throw new Error('ENCRYPTION_FAILED');
                }
                
                return new Promise((resolve, reject) => {
                    const transaction = this.db.transaction([this.storeName], 'readwrite');
                    const store = transaction.objectStore(this.storeName);
                    
                    const request = store.put(encrypted, key);
                    
                    request.onsuccess = () => resolve();
                    request.onerror = () => reject(request.error);
                });
            },
            
            async get(key) {
                if (!this.db) await this.init();
                
                return new Promise(async (resolve, reject) => {
                    const transaction = this.db.transaction([this.storeName], 'readonly');
                    const store = transaction.objectStore(this.storeName);
                    
                    const request = store.get(key);
                    
                    request.onsuccess = async () => {
                        if (request.result) {
                            const decrypted = await this.decrypt(request.result);
                            resolve(decrypted);
                        } else {
                            resolve(null);
                        }
                    };
                    
                    request.onerror = () => reject(request.error);
                });
            },
            
            async createRecoveryKey() {
                const recoveryKey = await crypto.subtle.generateKey(
                    { name: 'ECDSA', namedCurve: 'P-384' },
                    true,
                    ['sign', 'verify']
                );
                
                const publicKey = await crypto.subtle.exportKey('jwk', recoveryKey.publicKey);
                
                await this.set('recovery_key', {
                    publicKey,
                    expires: Date.now() + (7 * 24 * 60 * 60 * 1000),
                    deviceHash: DreamOS.App.state.deviceHash
                });
                
                return recoveryKey;
            },
            
            startPeriodicBackup() {
                setInterval(async () => {
                    if (navigator.onLine) {
                        await this.backupCriticalData();
                    }
                }, 6 * 60 * 60 * 1000);
            },
            
            async backupCriticalData() {
                const criticalData = {
                    deviceHash: DreamOS.App.state.deviceHash,
                    lastAudit: DreamOS.App.state.auditLogs.slice(-10),
                    timestamp: Date.now()
                };
                
                DreamOS.App.updateBackupStatus('BACKING_UP');
                
                try {
                    const response = await fetch('https://backup.dreamos-api.com/vault', {
                        method: 'PUT',
                        headers: {
                            'X-Device-Hash': DreamOS.App.state.deviceHash,
                            'X-Backup-Type': 'critical-data'
                        },
                        body: JSON.stringify(await this.encrypt(criticalData))
                    });
                    
                    if (response.ok) {
                        console.log('‚úÖ Critical data backed up');
                        DreamOS.App.updateBackupStatus('SYNCED');
                    }
                } catch (error) {
                    console.error('Backup failed:', error);
                    DreamOS.App.updateBackupStatus('FAILED');
                }
            },
            
            async autoWipe() {
                if (!this.db) return;
                
                try {
                    const transaction = this.db.transaction([this.storeName], 'readwrite');
                    const store = transaction.objectStore(this.storeName);
                    const request = store.clear();
                    
                    request.onsuccess = () => {
                        console.log('üîí Quantum Vault auto-wiped');
                    };
                } catch (error) {
                    console.error('Auto-wipe failed:', error);
                }
            },
            
            async generateKeyHash(key) {
                const exported = await crypto.subtle.exportKey('raw', key);
                const hash = await crypto.subtle.digest('SHA-256', exported);
                return Array.from(new Uint8Array(hash));
            },
            
            async verifyKeyHash(storedHash) {
                const currentKey = await this.generateQuantumKey();
                const currentHash = await this.generateKeyHash(currentKey);
                
                if (storedHash.length !== currentHash.length) return false;
                
                for (let i = 0; i < storedHash.length; i++) {
                    if (storedHash[i] !== currentHash[i]) return false;
                }
                
                return true;
            }
        };

        // ==================== [ZONA 2: ADVANCED GEOLOCK] ====================
        const AdvancedGeoLock = {
            allowedCoords: { lat: -6.4024, lng: 106.8291 },
            tolerance: 0.01,
            
            async verifyLocation() {
                try {
                    const positions = [];
                    
                    // Method 1: GPS
                    const gpsPosition = await this.getGPS();
                    if (gpsPosition) positions.push(gpsPosition);
                    
                    // Method 2: IP Geolocation
                    const ipPosition = await this.getIPGeolocation();
                    if (ipPosition) positions.push(ipPosition);
                    
                    if (positions.length < 1) {
                        console.log('üìç Location check skipped - insufficient data');
                        return;
                    }
                    
                    // Hitung similarity
                    const similarity = this.calculatePositionSimilarity(positions);
                    
                    if (similarity < 0.8) {
                        console.warn('‚ö†Ô∏è Location mismatch detected');
                        DreamOS.App.logAudit('LOCATION_SPOOFING_DETECTED', { similarity });
                        
                        if (similarity < 0.5) {
                            DreamOS.App.triggerSecurityBreach('GEO_FENCE_BREACH');
                        }
                    } else {
                        console.log('üìç Location verified');
                        DreamOS.App.logAudit('LOCATION_VERIFIED');
                    }
                } catch (error) {
                    console.log('üìç Location check skipped:', error.message);
                }
            },
            
            async getGPS() {
                return new Promise((resolve) => {
                    if (!navigator.geolocation) {
                        resolve(null);
                        return;
                    }
                    
                    navigator.geolocation.getCurrentPosition(
                        (position) => {
                            resolve({
                                lat: position.coords.latitude,
                                lng: position.coords.longitude,
                                source: 'gps'
                            });
                        },
                        () => resolve(null),
                        {
                            enableHighAccuracy: true,
                            timeout: 5000,
                            maximumAge: 0
                        }
                    );
                });
            },
            
            async getIPGeolocation() {
                try {
                    const response = await fetch('https://www.cloudflare.com/cdn-cgi/trace');
                    const text = await response.text();
                    
                    const loc = {};
                    text.split('\n').forEach(line => {
                        const [key, value] = line.split('=');
                        if (key === 'loc') {
                            const [lat, lng] = value.split(',');
                            loc.lat = parseFloat(lat);
                            loc.lng = parseFloat(lng);
                            loc.source = 'cloudflare';
                        }
                    });
                    
                    return loc.lat && loc.lng ? loc : null;
                } catch (error) {
                    return null;
                }
            },
            
            calculatePositionSimilarity(positions) {
                if (positions.length < 2) return 1;
                
                let totalDistance = 0;
                for (let i = 0; i < positions.length; i++) {
                    for (let j = i + 1; j < positions.length; j++) {
                        totalDistance += this.calculateDistance(
                            positions[i].lat, positions[i].lng,
                            positions[j].lat, positions[j].lng
                        );
                    }
                }
                
                const avgDistance = totalDistance / (positions.length * (positions.length - 1) / 2);
                const similarity = Math.max(0, 1 - (avgDistance / (this.tolerance * 111)));
                
                return similarity;
            },
            
            calculateDistance(lat1, lon1, lat2, lon2) {
                const R = 6371;
                const dLat = this.toRad(lat2 - lat1);
                const dLon = this.toRad(lon2 - lon1);
                const a = 
                    Math.sin(dLat/2) * Math.sin(dLat/2) +
                    Math.cos(this.toRad(lat1)) * Math.cos(this.toRad(lat2)) * 
                    Math.sin(dLon/2) * Math.sin(dLon/2);
                const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
                return R * c;
            },
            
            toRad(degrees) {
                return degrees * (Math.PI/180);
            }
        };

        // ==================== [ZONA 3: STEGANOGRAPHY WATERMARK] ====================
        const SteganographyWatermark = {
            async inject(audioBlob) {
                try {
                    const AudioContext = window.AudioContext || window.webkitAudioContext;
                    if (!AudioContext) return audioBlob;
                    
                    const audioContext = new AudioContext();
                    const arrayBuffer = await audioBlob.arrayBuffer();
                    const audioBuffer = await audioContext.decodeAudioData(arrayBuffer);
                    
                    // Generate watermark binary
                    const watermark = this.generateWatermarkBinary();
                    
                    // Inject ke channel pertama
                    const channelData = audioBuffer.getChannelData(0);
                    
                    for (let i = 0; i < watermark.length; i++) {
                        const sampleIndex = i * 100;
                        if (sampleIndex < channelData.length) {
                            const originalValue = channelData[sampleIndex];
                            const bit = watermark[i];
                            const newValue = this.setLSB(originalValue, bit);
                            channelData[sampleIndex] = newValue;
                        }
                    }
                    
                    // Re-encode ke WAV
                    return await this.encodeWAV(audioBuffer);
                } catch (error) {
                    console.error('Watermark injection failed:', error);
                    return audioBlob;
                }
            },
            
            generateWatermarkBinary() {
                const data = `${DreamOS.App.state.deviceHash}_${Date.now()}_ÿßŸÑŸÑŸáŸÖ ÿµŸÑ ÿπŸÑŸâ ÿ≥ŸäÿØŸÜÿß ŸÖÿ≠ŸÖÿØ`;
                return Array.from(new TextEncoder().encode(data))
                    .map(byte => byte.toString(2).padStart(8, '0'))
                    .join('')
                    .split('')
                    .map(bit => parseInt(bit));
            },
            
            setLSB(value, bit) {
                const intValue = Math.floor(value * 32768);
                const newIntValue = (intValue & ~1) | bit;
                return newIntValue / 32768;
            },
            
            async encodeWAV(audioBuffer) {
                const numChannels = audioBuffer.numberOfChannels;
                const sampleRate = audioBuffer.sampleRate;
                const bitsPerSample = 16;
                const bytesPerSample = bitsPerSample / 8;
                const blockAlign = numChannels * bytesPerSample;
                const byteRate = sampleRate * blockAlign;
                const dataSize = audioBuffer.length * numChannels * bytesPerSample;
                const buffer = new ArrayBuffer(44 + dataSize);
                const view = new DataView(buffer);
                
                // Write WAV header
                this.writeString(view, 0, 'RIFF');
                view.setUint32(4, 36 + dataSize, true);
                this.writeString(view, 8, 'WAVE');
                this.writeString(view, 12, 'fmt ');
                view.setUint32(16, 16, true);
                view.setUint16(20, 1, true);
                view.setUint16(22, numChannels, true);
                view.setUint32(24, sampleRate, true);
                view.setUint32(28, byteRate, true);
                view.setUint16(32, blockAlign, true);
                view.setUint16(34, bitsPerSample, true);
                this.writeString(view, 36, 'data');
                view.setUint32(40, dataSize, true);
                
                // Write audio data
                let offset = 44;
                for (let i = 0; i < audioBuffer.length; i++) {
                    for (let channel = 0; channel < numChannels; channel++) {
                        const sample = Math.max(-1, Math.min(1, audioBuffer.getChannelData(channel)[i]));
                        view.setInt16(offset, sample < 0 ? sample * 32768 : sample * 32767, true);
                        offset += 2;
                    }
                }
                
                return new Blob([buffer], { type: 'audio/wav' });
            },
            
            writeString(view, offset, string) {
                for (let i = 0; i < string.length; i++) {
                    view.setUint8(offset + i, string.charCodeAt(i));
                }
            }
        };

        // ==================== [ZONA 4: CLOUDFLARE OPTIMIZER] ====================
        const CloudflareOptimizer = {
            async processOffloadedCompute(task, data) {
                try {
                    const response = await fetch('https://compute.dreamos-api.com/task', {
                        method: 'POST',
                        headers: {
                            'X-DreamOS-Task': task,
                            'X-Device-Hash': DreamOS.App.state.deviceHash,
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(data),
                        signal: AbortSignal.timeout(10000)
                    });
                    
                    return await response.json();
                } catch (error) {
                    console.error('Cloudflare compute failed:', error);
                    return null;
                }
            },
            
            async syncWithCloudflare(data) {
                if (!navigator.onLine) {
                    DreamOS.App.updateBackupStatus('OFFLINE');
                    return false;
                }
                
                try {
                    const response = await fetch('https://sync.dreamos-api.com/vault', {
                        method: 'POST',
                        headers: {
                            'X-Device-Hash': DreamOS.App.state.deviceHash,
                            'X-Sync-Type': 'incremental',
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            data: await QuantumVault.encrypt(data),
                            timestamp: Date.now(),
                            version: '13.1.9'
                        })
                    });
                    
                    if (response.ok) {
                        DreamOS.App.updateBackupStatus('SYNCED');
                        return true;
                    }
                } catch (error) {
                    console.error('Cloudflare sync failed:', error);
                }
                
                DreamOS.App.updateBackupStatus('FAILED');
                return false;
            }
        };

        // ==================== MAIN APP ENGINE ====================
        const DreamOS = {
            App: {
                config: {
                    version: '13.1.9-quantum-seal',
                    depokTimezone: 7,
                    slideMessages: [
                        "QUANTUM VAULT ACTIVATED ‚Ä¢ DATA PERSISTENCE ENABLED",
                        "STORAGE PERSISTENCE GRANTED ‚Ä¢ DATA AMAN DARI AUTO-CLEAN",
                        "KILL SWITCH ACTIVE ‚Ä¢ SERVICE WORKER AUTO-RECOVERY",
                        "CLOUDFLARE SYNC READY ‚Ä¢ OFFLINE BACKUP ENABLED",
                        "STEGANOGRAPHY WATERMARK ACTIVE ‚Ä¢ AUDIO VERIFICATION"
                    ]
                },
                
                state: {
                    isLocked: false,
                    privacyMode: false,
                    currentModule: null,
                    failedAttempts: 0,
                    deviceHash: null,
                    auditLogs: [],
                    slideIndex: 0,
                    stream: null,
                    lockdownTimer: null,
                    lastLockdown: 0,
                    currentUser: null,
                    isGhost: false,
                    shalawatDNA: btoa("ÿßŸÑŸÑŸáŸÖ ÿµŸÑ ÿπŸÑŸâ ÿ≥ŸäÿØŸÜÿß ŸÖÿ≠ŸÖÿØ"),
                    secureStorage: true,
                    persistenceStatus: 'CHECKING',
                    backupStatus: 'OFFLINE'
                },

                // ==================== INITIALIZATION ====================
                async init() {
                    console.log(`%c DREAM OS v${this.config.version} %c QUANTUM SEAL EDITION `, 
                              "color:#00f3ff; font-weight:bold; padding:4px 8px; background:#050810;", 
                              "color:#00ff9d; font-weight:bold; padding:4px 8px; background:#0a1020;");
                    
                    this.updateLoadingStatus("Initializing Quantum Vault...");
                    
                    // Generate device hash
                    this.generateDeviceHash();
                    
                    // Initialize Quantum Vault
                    try {
                        await QuantumVault.init();
                        this.state.secureStorage = true;
                        this.showLoadingProgress(30);
                        console.log('‚úÖ Quantum Vault Activated');
                    } catch (error) {
                        console.error('‚ùå Quantum Vault Failed:', error);
                        this.state.secureStorage = false;
                    }
                    
                    // Setup sistem dasar
                    this.updateClock();
                    setInterval(() => this.updateClock(), 1000);
                    this.startSlideSystem();
                    this.initSecurity();
                    this.setupTamperDetection();
                    this.hardenSystem();
                    
                    // Initialize modules
                    DreamOS.Auth.init();
                    
                    // Verify location (non-blocking)
                    setTimeout(() => AdvancedGeoLock.verifyLocation(), 2000);
                    
                    // Log boot success
                    await this.logAudit('SYSTEM_BOOT_QUANTUM', { version: this.config.version });
                    
                    // Complete loading
                    this.updateLoadingStatus("Quantum Seal Active!");
                    this.showLoadingProgress(100);
                    
                    setTimeout(() => {
                        document.getElementById('loading-screen').style.opacity = '0';
                        setTimeout(() => {
                            document.getElementById('loading-screen').style.display = 'none';
                            document.getElementById('app-container').classList.add('loaded');
                            
                            // Play welcome frequency
                            this.playFrequency(432, 1000);
                            
                            // Show welcome notification
                            setTimeout(() => {
                                this.showNotification('Dream OS Quantum Seal Activated', 'success');
                            }, 500);
                        }, 500);
                    }, 1000);
                },
                
                updateLoadingStatus(text) {
                    const statusEl = document.getElementById('loading-status');
                    if (statusEl) {
                        statusEl.textContent = text;
                    }
                },
                
                showLoadingProgress(percent) {
                    const bar = document.getElementById('loading-bar');
                    if (bar) {
                        bar.style.width = percent + '%';
                    }
                },
                
                generateDeviceHash() {
                    const entropy = [
                        navigator.userAgent,
                        screen.width + 'x' + screen.height,
                        new Date().getTimezoneOffset(),
                        navigator.language,
                        window.devicePixelRatio,
                        Math.random().toString(36).slice(2),
                        "DEPOK_QUANTUM_SEAL_2026",
                        btoa("ÿßŸÑŸÑŸáŸÖ ÿµŸÑ ÿπŸÑŸâ ÿ≥ŸäÿØŸÜÿß ŸÖÿ≠ŸÖÿØ").substring(0, 16)
                    ].join('|');
                    
                    let hash = 0;
                    for (let i = 0; i < entropy.length; i++) {
                        const char = entropy.charCodeAt(i);
                        hash = ((hash << 5) - hash) + char;
                        hash = hash & hash;
                    }
                    
                    this.state.deviceHash = "DREAM-" + Math.abs(hash).toString(16).toUpperCase().padStart(8, '0') + "-QNT";
                    
                    // Update UI elements
                    const badge = document.getElementById('security-badge');
                    if (badge) {
                        badge.textContent = `ISO 27001: ${this.state.deviceHash.substring(0, 12)}...`;
                    }
                    
                    const deviceEl = document.getElementById('loading-device');
                    if (deviceEl) {
                        deviceEl.textContent = this.state.deviceHash.substring(0, 8) + '...';
                    }
                    
                    const lockdownHash = document.getElementById('lockdown-hash');
                    if (lockdownHash) {
                        lockdownHash.textContent = this.state.deviceHash.substring(0, 8) + '...';
                    }
                    
                    const authHash = document.getElementById('auth-device-hash');
                    if (authHash) {
                        authHash.textContent = this.state.deviceHash.substring(0, 8) + '...';
                    }
                    
                    console.log('üîí Device Hash Generated:', this.state.deviceHash);
                },
                
                updatePersistenceStatus(status) {
                    this.state.persistenceStatus = status;
                    
                    const sealEl = document.querySelector('.gold-master-seal span');
                    if (sealEl) {
                        sealEl.textContent = status;
                        sealEl.style.color = status === 'PERSISTENT' ? '#00ff9d' : 
                                           status === 'VOLATILE' ? '#fbbf24' : 
                                           status === 'UNKNOWN' ? '#94a3b8' : '#ef4444';
                    }
                    
                    const statusEl = document.getElementById('persistence-status');
                    if (statusEl) {
                        statusEl.textContent = status;
                        statusEl.style.color = status === 'PERSISTENT' ? '#00ff9d' : 
                                             status === 'VOLATILE' ? '#fbbf24' : 
                                             status === 'UNKNOWN' ? '#94a3b8' : '#ef4444';
                    }
                    
                    const authStatus = document.getElementById('auth-storage-status');
                    if (authStatus) {
                        authStatus.textContent = status;
                    }
                },
                
                updateBackupStatus(status) {
                    this.state.backupStatus = status;
                    
                    const statusEl = document.getElementById('backup-status');
                    if (statusEl) {
                        statusEl.textContent = status;
                        statusEl.style.color = status === 'SYNCED' ? '#00ff9d' : 
                                             status === 'BACKING_UP' ? '#fbbf24' : 
                                             status === 'OFFLINE' ? '#94a3b8' : '#ef4444';
                    }
                },
                
                // ==================== SYSTEM FUNCTIONS ====================
                updateClock() {
                    const now = new Date();
                    const depokTime = new Date(now.getTime() + (7 - now.getTimezoneOffset()/60) * 60 * 60 * 1000);
                    const hours = String(depokTime.getUTCHours()).padStart(2, '0');
                    const minutes = String(depokTime.getUTCMinutes()).padStart(2, '0');
                    const seconds = String(depokTime.getUTCSeconds()).padStart(2, '0');
                    
                    const clock = document.getElementById('clock');
                    if (clock) {
                        clock.textContent = `DEPOK HQ ‚Ä¢ ${hours}:${minutes}`;
                    }
                    
                    // Update audit log timestamps
                    const log1 = document.getElementById('log-time-1');
                    const log2 = document.getElementById('log-time-2');
                    const log3 = document.getElementById('log-time-3');
                    
                    if (log1) log1.textContent = `${hours}:${minutes}:${seconds}`;
                    if (log2) log2.textContent = `${hours}:${minutes}:${String(parseInt(seconds) + 1).padStart(2, '0')}`;
                    if (log3) log3.textContent = `${hours}:${minutes}:${String(parseInt(seconds) + 2).padStart(2, '0')}`;
                },
                
                startSlideSystem() {
                    setInterval(() => {
                        this.state.slideIndex = (this.state.slideIndex + 1) % this.config.slideMessages.length;
                        this.updateSlideContent(this.config.slideMessages[this.state.slideIndex]);
                    }, 8000);
                },
                
                updateSlideContent(text) {
                    const el = document.getElementById('slide-text');
                    if (el) {
                        el.style.opacity = '0';
                        setTimeout(() => {
                            el.textContent = text;
                            el.style.opacity = '1';
                        }, 300);
                    }
                },
                
                // ==================== SECURITY FUNCTIONS ====================
                hardenSystem() {
                    // Anti-context menu
                    document.addEventListener('contextmenu', e => {
                        e.preventDefault();
                        this.logAudit('CONTEXT_MENU_BLOCKED');
                    });
                    
                    // Anti-dev tools
                    document.addEventListener('keydown', e => {
                        if (e.key === 'F12' || 
                            (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'J' || e.key === 'C')) ||
                            (e.ctrlKey && e.key === 'U')) {
                            e.preventDefault();
                            this.triggerSecurityBreach('DEVTOOLS_ATTEMPT');
                        }
                    });
                    
                    // Prevent back button
                    history.pushState(null, null, location.href);
                    window.onpopstate = function() {
                        history.go(1);
                    };
                    
                    // Anti-copy
                    document.addEventListener('copy', e => {
                        e.preventDefault();
                        this.logAudit('COPY_ATTEMPT_BLOCKED');
                        this.showNotification('Copying is disabled for security', 'warning');
                    });
                    
                    // Anti-iframe
                    if (window !== window.parent) {
                        window.parent.location = window.location;
                    }
                },
                
                triggerSecurityBreach(type) {
                    console.error(`üö® SECURITY BREACH: ${type}`);
                    
                    document.body.classList.add('strike-mode');
                    this.playFrequency(528, 1500);
                    
                    this.logAudit(`SECURITY_BREACH_${type}`);
                    
                    setTimeout(() => {
                        const breachMessages = {
                            'DEVTOOLS_ATTEMPT': "Upaya akses DevTools terdeteksi!",
                            'DEBUGGER_ACTIVE': "Debugger aktif - sistem dalam bahaya!",
                            'DOM_TAMPERING': "DOM manipulation detected!",
                            'DATA_CORRUPTION': "Data integrity compromised!",
                            'GEO_FENCE_BREACH': "Perangkat di luar radius aman Depok HQ!"
                        };
                        
                        const message = breachMessages[type] || 'Ancaman terdeteksi';
                        alert(`üö® KEAMANAN DILANGGAR üö®\n\n${message}\n\nSistem akan melakukan netralisasi...`);
                        
                        if (type !== 'GEO_FENCE_BREACH') {
                            this.triggerLockdown(300000);
                        }
                    }, 1200);
                },
                
                triggerLockdown(duration) {
                    if (this.state.isLocked) return;
                    
                    this.state.isLocked = true;
                    const lockdownScreen = document.getElementById('lockdown-screen');
                    if (lockdownScreen) {
                        lockdownScreen.classList.remove('hidden');
                    }
                    
                    let seconds = duration / 1000;
                    this.state.lockdownTimer = setInterval(() => {
                        seconds--;
                        const mins = Math.floor(seconds / 60);
                        const secs = seconds % 60;
                        
                        const timerEl = document.getElementById('lockdown-timer');
                        if (timerEl) {
                            timerEl.textContent = `${String(mins).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
                        }
                        
                        if (seconds <= 0) {
                            clearInterval(this.state.lockdownTimer);
                            this.endLockdown();
                        }
                    }, 1000);
                    
                    this.logAudit('SYSTEM_LOCKDOWN_INITIATED');
                },
                
                endLockdown() {
                    this.state.isLocked = false;
                    const lockdownScreen = document.getElementById('lockdown-screen');
                    if (lockdownScreen) {
                        lockdownScreen.classList.add('hidden');
                    }
                    clearInterval(this.state.lockdownTimer);
                    this.logAudit('SYSTEM_UNLOCKED');
                    this.showNotification('System unlocked successfully', 'success');
                },
                
                // ==================== AUDIT & LOGGING ====================
                async logAudit(event, data = {}) {
                    if (DreamOS.Auth.ghostMode) return;
                    
                    const now = new Date();
                    const logEntry = {
                        timestamp: now.toISOString(),
                        event: event,
                        deviceHash: this.state.deviceHash,
                        user: this.state.currentUser || 'N/A',
                        data: data
                    };
                    
                    this.state.auditLogs.push(logEntry);
                    
                    if (this.state.auditLogs.length > 1000) {
                        this.state.auditLogs = this.state.auditLogs.slice(-1000);
                    }
                    
                    try {
                        await QuantumVault.set('dreamos_audit_logs', this.state.auditLogs);
                    } catch (error) {
                        console.error('Failed to save audit logs:', error);
                    }
                    
                    console.log('üìù Audit Log:', logEntry);
                },
                
                // ==================== NOTIFICATION SYSTEM ====================
                showNotification(message, type = 'info') {
                    if (DreamOS.Auth.ghostMode && type !== 'error') return;
                    
                    const colors = {
                        success: { bg: 'rgba(22, 163, 74, 0.9)', border: '#16a34a', icon: 'fa-check-circle' },
                        error: { bg: 'rgba(220, 38, 38, 0.9)', border: '#dc2626', icon: 'fa-exclamation-triangle' },
                        info: { bg: 'rgba(59, 130, 246, 0.9)', border: '#3b82f6', icon: 'fa-info-circle' },
                        warning: { bg: 'rgba(245, 158, 11, 0.9)', border: '#f59e0b', icon: 'fa-exclamation' }
                    };
                    
                    const config = colors[type] || colors.info;
                    
                    const notif = document.createElement('div');
                    notif.style.cssText = `
                        position: fixed;
                        bottom: 20px;
                        right: 20px;
                        max-width: 300px;
                        padding: 12px 16px;
                        background: ${config.bg};
                        border: 1px solid ${config.border};
                        border-radius: 12px;
                        color: white;
                        z-index: 9999;
                        animation: slideIn 0.3s ease-out;
                        backdrop-filter: blur(10px);
                        box-shadow: 0 10px 25px rgba(0,0,0,0.3);
                    `;
                    
                    notif.innerHTML = `
                        <div style="display: flex; align-items: flex-start; gap: 12px;">
                            <i class="fas ${config.icon}" style="font-size: 1.25rem; margin-top: 2px;"></i>
                            <div>
                                <div style="font-family: 'Orbitron'; font-size: 11px; font-weight: bold; text-transform: uppercase; margin-bottom: 4px;">
                                    ${type.toUpperCase()}
                                </div>
                                <div style="font-size: 12px;">${message}</div>
                            </div>
                        </div>
                    `;
                    
                    document.body.appendChild(notif);
                    
                    setTimeout(() => {
                        notif.style.animation = 'slideOut 0.3s ease-in forwards';
                        setTimeout(() => {
                            if (notif.parentNode) {
                                notif.parentNode.removeChild(notif);
                            }
                        }, 300);
                    }, 3000);
                },
                
                // ==================== AUDIO SYSTEM ====================
                playFrequency(freq, duration) {
                    try {
                        const AudioContext = window.AudioContext || window.webkitAudioContext;
                        if (!AudioContext) return;
                        
                        const ctx = new AudioContext();
                        const osc = ctx.createOscillator();
                        const gain = ctx.createGain();
                        
                        osc.type = 'sine';
                        osc.frequency.value = freq;
                        
                        gain.gain.value = 0.05;
                        
                        osc.connect(gain);
                        gain.connect(ctx.destination);
                        
                        osc.start();
                        
                        setTimeout(() => {
                            gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.1);
                            setTimeout(() => {
                                osc.stop();
                                ctx.close();
                            }, 110);
                        }, duration);
                    } catch (e) {
                        // Audio tidak support
                    }
                },
                
                // ==================== MODULE SYSTEM ====================
                openModule(moduleName) {
                    if (this.state.isLocked) {
                        this.showNotification('Sistem sedang dalam lockdown. Silakan tunggu countdown selesai.', 'error');
                        return;
                    }
                    
                    const modal = document.getElementById('app-modal');
                    const content = document.getElementById('modal-content');
                    const title = document.getElementById('modal-title');
                    
                    if (!modal || !content || !title) return;
                    
                    modal.style.display = 'flex';
                    this.state.currentModule = moduleName;
                    
                    const sensitiveModules = ['admin', 'asset', 'report'];
                    if (sensitiveModules.includes(moduleName)) {
                        if (!DreamOS.Auth.authenticated) {
                            this.showNotification('Silakan login terlebih dahulu untuk mengakses modul ini', 'error');
                            this.closeModal();
                            return;
                        }
                    }
                    
                    this.renderModule(content, title, moduleName);
                },
                
                renderModule(content, title, moduleName) {
                    const modules = {
                        'security': {
                            title: 'SEKURITI 24/7 ‚Ä¢ QUANTUM BRIDGE',
                            html: this.getSecurityHTML()
                        },
                        'k3': {
                            title: 'LAPORAN K3 ‚Ä¢ STEGANOGRAPHY WATERMARK',
                            html: this.getK3HTML()
                        },
                        'admin': {
                            title: 'ADMIN WORKSPACE ‚Ä¢ KILL SWITCH CONTROL',
                            html: this.getAdminHTML()
                        },
                        'cs': {
                            title: 'CHECKLIST CS INDOOR ‚Ä¢ PERSISTENT STORAGE',
                            html: this.getCSHTML()
                        },
                        'asset': {
                            title: 'ASSET MANAGEMENT ‚Ä¢ GEO-LOCK VERIFIED',
                            html: this.getAssetHTML()
                        },
                        'report': {
                            title: 'AUTO-REPORT GENERATOR ‚Ä¢ CLOUDFLARE SYNC',
                            html: this.getReportHTML()
                        }
                    };
                    
                    const module = modules[moduleName];
                    if (module) {
                        title.textContent = module.title;
                        content.innerHTML = module.html;
                    } else {
                        title.textContent = 'MODULE NOT FOUND';
                        content.innerHTML = '<div style="text-align: center; padding: 5rem; color: #64748b;">Module tidak tersedia</div>';
                    }
                    
                    this.logAudit(`MODULE_OPEN_${moduleName.toUpperCase()}`);
                },
                
                closeModal() {
                    const modal = document.getElementById('app-modal');
                    if (modal) {
                        modal.style.display = 'none';
                    }
                    this.stopCamera();
                    this.logAudit('MODAL_CLOSED');
                },
                
                goHome() {
                    if (!this.state.isLocked) {
                        this.closeModal();
                    }
                },
                
                togglePrivacy() {
                    this.state.privacyMode = !this.state.privacyMode;
                    const icon = document.getElementById('privacy-icon');
                    
                    if (!icon) return;
                    
                    if (this.state.privacyMode) {
                        icon.classList.remove('fa-eye');
                        icon.classList.add('fa-eye-slash');
                        document.body.style.filter = 'blur(8px)';
                        this.showNotification('Mode Privasi Aktif', 'info');
                    } else {
                        icon.classList.remove('fa-eye-slash');
                        icon.classList.add('fa-eye');
                        document.body.style.filter = 'none';
                        this.showNotification('Mode Privasi Dinonaktifkan', 'info');
                    }
                },
                
                // ==================== EMERGENCY FUNCTIONS ====================
                confirmWipe() {
                    const challenge = Math.floor(1000 + Math.random() * 9000);
                    const correctAnswer = challenge * 7;
                    
                    const input = prompt(`üö® EMERGENCY WIPE CHALLENGE üö®\n\nKode: ${challenge}\n\nHitung: ${challenge} √ó 7 = ?\n\nHanya jawaban yang benar akan mengaktifkan protokol wipe.`);
                    
                    if (parseInt(input) === correctAnswer) {
                        const confirmation = prompt('Ketik kode konfirmasi final (3 huruf):');
                        if (confirmation && confirmation.toUpperCase() === 'YA') {
                            this.triggerEmergencyWipe();
                        } else {
                            this.showNotification('Konfirmasi gagal. Sistem aman.', 'error');
                            this.logAudit('EMERGENCY_WIPE_CANCELLED');
                        }
                    } else {
                        this.logAudit('EMERGENCY_WIPE_FAILED', { challenge });
                        this.showNotification('‚ùå Jawaban salah. Percobaan wipe gagal dan dilaporkan.', 'error');
                    }
                },
                
                triggerEmergencyWipe() {
                    document.body.innerHTML = `
                        <div style="position: fixed; inset: 0; background: linear-gradient(135deg, #450a0a, #000); display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 2rem;">
                            <div style="font-size: 4rem; color: #fbbf24; margin-bottom: 2rem; animation: pulse 1s infinite;">
                                <i class="fas fa-bolt"></i>
                            </div>
                            <h1 style="font-family: 'Orbitron'; font-size: 2.5rem; font-weight: bold; color: white; margin-bottom: 1rem;">
                                QUANTUM VAULT WIPE
                            </h1>
                            <p style="font-size: 1.25rem; color: #cbd5e1; margin-bottom: 2rem;">
                                Seluruh data sensitif sedang dinetralisir
                            </p>
                            <div style="width: 256px; height: 12px; background: rgba(255,255,255,0.1); border-radius: 6px; overflow: hidden; margin-bottom: 2rem;">
                                <div style="height: 100%; width: 0%; background: linear-gradient(90deg, #ef4444, #fbbf24); animation: wipe 3s ease-in-out forwards;"></div>
                            </div>
                            <p style="color: #94a3b8; font-size: 0.875rem;">
                                Bismillah bi idznillah<br>
                                Data akan aman dalam lindungan-Nya
                            </p>
                        </div>
                    `;
                    
                    const style = document.createElement('style');
                    style.textContent = `@keyframes wipe { 0% { width: 0%; } 100% { width: 100%; } }`;
                    document.head.appendChild(style);
                    
                    this.logAudit('EMERGENCY_WIPE_ACTIVATED');
                    
                    setTimeout(async () => {
                        try {
                            indexedDB.deleteDatabase('DreamOS_QuantumVault_v13');
                            localStorage.clear();
                            sessionStorage.clear();
                            
                            setTimeout(() => {
                                window.location.reload();
                            }, 1000);
                        } catch (error) {
                            console.error('Wipe error:', error);
                            window.location.reload();
                        }
                    }, 3500);
                },
                
                // ==================== SETUP TAMPER DETECTION ====================
                setupTamperDetection() {
                    const originalHTML = document.documentElement.outerHTML;
                    
                    const observer = new MutationObserver((mutations) => {
                        mutations.forEach((mutation) => {
                            if (mutation.type === 'attributes' || mutation.type === 'childList') {
                                const currentHTML = document.documentElement.outerHTML;
                                if (currentHTML !== originalHTML) {
                                    console.error('üö® DOM TAMPERING DETECTED!');
                                    this.triggerSecurityBreach('DOM_TAMPERING');
                                }
                            }
                        });
                    });
                    
                    observer.observe(document.body, {
                        attributes: true,
                        childList: true,
                        subtree: true,
                        attributeOldValue: true
                    });
                    
                    setInterval(() => {
                        if (document.documentElement.outerHTML !== originalHTML) {
                            console.error('üö® DOM TAMPERING DETECTED (interval)!');
                            this.triggerSecurityBreach('DOM_TAMPERING');
                        }
                    }, 10000);
                },
                
                // ==================== INIT SECURITY ====================
                initSecurity() {
                    if (window.crypto && crypto.subtle) {
                        console.log('‚úÖ Web Crypto API Initialized');
                        const status = document.getElementById('system-status');
                        if (status) {
                            status.textContent = 'QUANTUM SECURE';
                            status.style.color = '#00ff9d';
                        }
                    } else {
                        console.warn('‚ö†Ô∏è Web Crypto API not available');
                        const status = document.getElementById('system-status');
                        if (status) {
                            status.textContent = 'LEGACY MODE';
                            status.style.color = '#fbbf24';
                            status.classList.remove('animate-pulse');
                        }
                    }
                },
                
                // ==================== HTML TEMPLATES ====================
                getSecurityHTML() {
                    return `
                        <div style="padding: 24px; overflow-y: auto; height: calc(100% - 48px);">
                            <div style="text-align: center; padding: 3rem; color: #64748b;">
                                <i class="fas fa-shield-halved" style="font-size: 3rem; margin-bottom: 1rem; color: #ef4444;"></i>
                                <p>SEKURITI 24/7 - QUANTUM BRIDGE</p>
                                <p style="font-size: 0.8rem; margin-top: 1rem; color: #94a3b8;">
                                    Sistem keamanan dengan enkripsi quantum dan geolock
                                </p>
                            </div>
                        </div>
                    `;
                },
                
                getK3HTML() {
                    return `
                        <div style="padding: 24px; overflow-y: auto; height: calc(100% - 48px);">
                            <div style="text-align: center; padding: 3rem; color: #64748b;">
                                <i class="fas fa-hard-hat" style="font-size: 3rem; margin-bottom: 1rem; color: #f59e0b;"></i>
                                <p>FORM K3 - STEGANOGRAPHY WATERMARK</p>
                                <p style="font-size: 0.8rem; margin-top: 1rem; color: #94a3b8;">
                                    Semua rekaman audio memiliki watermark digital
                                </p>
                            </div>
                        </div>
                    `;
                },
                
                getAdminHTML() {
                    return `
                        <div style="padding: 24px; overflow-y: auto; height: calc(100% - 48px);">
                            <div style="text-align: center; padding: 3rem; color: #64748b;">
                                <i class="fas fa-user-crown" style="font-size: 3rem; margin-bottom: 1rem; color: #d4af37;"></i>
                                <p>ADMIN WORKSPACE - KILL SWITCH CONTROL</p>
                                <div style="margin-top: 2rem;">
                                    <button onclick="DreamOS.App.confirmWipe()" style="padding: 12px 24px; background: linear-gradient(135deg, #ef4444, #dc2626); color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer;">
                                        <i class="fas fa-bomb" style="margin-right: 8px;"></i> AKTIFKAN KILL SWITCH
                                    </button>
                                </div>
                            </div>
                        </div>
                    `;
                },
                
                getCSHTML() {
                    return `
                        <div style="padding: 24px; overflow-y: auto; height: calc(100% - 48px);">
                            <div style="text-align: center; padding: 3rem; color: #64748b;">
                                <i class="fas fa-broom" style="font-size: 3rem; margin-bottom: 1rem; color: #2dd4bf;"></i>
                                <p>CHECKLIST CS INDOOR - PERSISTENT STORAGE</p>
                                <p style="font-size: 0.8rem; margin-top: 1rem; color: #94a3b8;">
                                    Data tersimpan permanen tidak akan terhapus otomatis
                                </p>
                            </div>
                        </div>
                    `;
                },
                
                getAssetHTML() {
                    return `
                        <div style="padding: 24px; overflow-y: auto; height: calc(100% - 48px);">
                            <div style="text-align: center; padding: 3rem; color: #64748b;">
                                <i class="fas fa-boxes-stacked" style="font-size: 3rem; margin-bottom: 1rem; color: #a855f7;"></i>
                                <p>ASSET MANAGEMENT - GEO-LOCK VERIFIED</p>
                                <p style="font-size: 0.8rem; margin-top: 1rem; color: #94a3b8;">
                                    Hanya dapat diakses dari lokasi terverifikasi
                                </p>
                            </div>
                        </div>
                    `;
                },
                
                getReportHTML() {
                    return `
                        <div style="padding: 24px; overflow-y: auto; height: calc(100% - 48px);">
                            <div style="text-align: center; padding: 3rem; color: #64748b;">
                                <i class="fas fa-file-contract" style="font-size: 3rem; margin-bottom: 1rem; color: #22c55e;"></i>
                                <p>AUTO-REPORT GENERATOR - CLOUDFLARE SYNC</p>
                                <p style="font-size: 0.8rem; margin-top: 1rem; color: #94a3b8;">
                                    Laporan otomatis tersinkronisasi dengan Cloudflare
                                </p>
                            </div>
                        </div>
                    `;
                }
            },

            // ==================== AUTHENTICATION SYSTEM ====================
            Auth: {
                authenticated: false,
                failedAttempts: 0,
                maxAttempts: 5,
                ghostMode: false,
                state: {
                    currentModuleLevel: null
                },
                
                credentials: {
                    umum: {
                        username: "user_@1234", 
                        password: "d4N4umum_AF@1112",
                        level: "basic",
                        hint: "User Umum - Booking & K3 Forms",
                        modules: ['booking', 'k3']
                    },
                    sekuriti: {
                        username: "LHPSsec_AF2025",
                        password: "L4p0r4nS3k#2025",
                        level: "operational",
                        hint: "Laporan Harian Piket Sekuriti",
                        modules: ['security']
                    },
                    admin: {
                        username: "4dm1n_AF6969@00",
                        password: "4dm1n_P4ss#2026",
                        level: "admin",
                        hint: "Admin System - Full access",
                        modules: ['admin', 'report']
                    },
                    cs: {
                        username: "CHCS_AF_@003",
                        password: "CHCS_P4ss#2026",
                        level: "operational",
                        hint: "Checklist CS Harian",
                        modules: ['cs']
                    },
                    stok: {
                        username: "SACS_AF@004",
                        password: "St0k_P4ss#2026",
                        level: "inventory",
                        hint: "Stok & Alat CS dan Taman",
                        modules: ['asset', 'stock']
                    },
                    maintenance: {
                        username: "M41n_4F@234",
                        password: "M41nt_P4ss#2026",
                        level: "technical",
                        hint: "Form Maintenance",
                        modules: ['maint']
                    },
                    inventaris: {
                        username: "4dm1n_6969@01",
                        password: "Inv3nt_P4ss#2026",
                        level: "asset",
                        hint: "Inventaris",
                        modules: ['asset']
                    },
                    gudang: {
                        username: "4dm1n_9696@02",
                        password: "Gud4ng_P4ss#2026",
                        level: "asset",
                        hint: "Gudang",
                        modules: ['stock']
                    },
                    master: {
                        username: "Mr.M_Architect_2025",
                        password: "",
                        level: "ghost",
                        hint: "MASTER KEY - No Logs, Full Access",
                        modules: ['*'],
                        bypassCode: "012443410",
                        ghostDevice: "Redmi Note 9 Pro"
                    }
                },
                
                init: function() {
                    const loginModule = document.getElementById('login-module');
                    if (loginModule) {
                        loginModule.addEventListener('change', () => {
                            this.updateCredentials();
                        });
                    }
                    
                    const togglePassBtn = document.getElementById('toggle-pass');
                    const passwordField = document.getElementById('login-password');
                    
                    if (togglePassBtn && passwordField) {
                        let autoHideTimer = null;
                        
                        togglePassBtn.addEventListener('click', (e) => {
                            e.preventDefault();
                            e.stopPropagation();
                            
                            const icon = togglePassBtn.querySelector('i');
                            const isPassword = passwordField.type === 'password';
                            
                            passwordField.type = isPassword ? 'text' : 'password';
                            
                            if (isPassword) {
                                icon.classList.remove('fa-eye');
                                icon.classList.add('fa-eye-slash');
                                icon.style.color = '#00ff9d';
                                
                                clearTimeout(autoHideTimer);
                                autoHideTimer = setTimeout(() => {
                                    passwordField.type = 'password';
                                    icon.classList.remove('fa-eye-slash');
                                    icon.classList.add('fa-eye');
                                    icon.style.color = '#6b7280';
                                    DreamOS.App.showNotification('Password disembunyikan otomatis', 'info');
                                }, 5000);
                            } else {
                                icon.classList.remove('fa-eye-slash');
                                icon.classList.add('fa-eye');
                                icon.style.color = '#6b7280';
                                clearTimeout(autoHideTimer);
                            }
                            
                            passwordField.focus();
                        });
                        
                        passwordField.addEventListener('blur', () => {
                            passwordField.type = 'password';
                            const icon = togglePassBtn.querySelector('i');
                            icon.classList.remove('fa-eye-slash');
                            icon.classList.add('fa-eye');
                            icon.style.color = '#6b7280';
                            clearTimeout(autoHideTimer);
                        });
                    }
                    
                    this.updateCredentials();
                },
                
                updateCredentials: function() {
                    const module = document.getElementById('login-module');
                    const usernameField = document.getElementById('login-username');
                    const passwordField = document.getElementById('login-password');
                    const hintField = document.getElementById('credential-hint');
                    const masterKeySection = document.getElementById('master-key-section');
                    
                    if (!module || !usernameField || !passwordField || !hintField) return;
                    
                    const selectedModule = module.value;
                    
                    if (selectedModule && this.credentials[selectedModule]) {
                        const cred = this.credentials[selectedModule];
                        
                        usernameField.value = cred.username;
                        passwordField.value = '';
                        hintField.textContent = cred.hint;
                        hintField.style.color = '#fbbf24';
                        
                        if (selectedModule === 'master') {
                            if (masterKeySection) masterKeySection.classList.remove('hidden');
                            passwordField.placeholder = "Bypass Code atau Fingerprint";
                            passwordField.type = "password";
                        } else {
                            if (masterKeySection) masterKeySection.classList.add('hidden');
                            passwordField.placeholder = "‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢";
                            passwordField.type = "password";
                        }
                    } else {
                        usernameField.value = '';
                        passwordField.value = '';
                        hintField.textContent = '‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢';
                        hintField.style.color = '#6b7280';
                        if (masterKeySection) masterKeySection.classList.add('hidden');
                    }
                },
                
                login: function() {
                    const module = document.getElementById('login-module');
                    const username = document.getElementById('login-username');
                    const password = document.getElementById('login-password');
                    
                    if (!module || !username || !password) return;
                    
                    const selectedModule = module.value;
                    const userValue = username.value.trim();
                    const passValue = password.value.trim();
                    
                    if (!selectedModule || !userValue) {
                        DreamOS.App.showNotification("Mohon pilih modul dan username!", "error");
                        return;
                    }
                    
                    if (!this.credentials[selectedModule]) {
                        this.failedAttempt("INVALID_MODULE");
                        return;
                    }
                    
                    const cred = this.credentials[selectedModule];
                    
                    if (selectedModule === 'master') {
                        if (passValue === cred.bypassCode) {
                            this.activateGhostMode(userValue);
                            return;
                        }
                        this.failedAttempt("GHOST_AUTH_FAILED");
                        return;
                    }
                    
                    if (userValue === cred.username && passValue === cred.password) {
                        this.success(selectedModule, userValue);
                    } else {
                        this.failedAttempt("INVALID_CREDENTIALS");
                    }
                },
                
                activateGhostMode: function(username) {
                    this.authenticated = true;
                    this.ghostMode = true;
                    DreamOS.App.state.isGhost = true;
                    DreamOS.App.state.currentUser = username;
                    this.state.currentModuleLevel = 'master';
                    DreamOS.App.state.currentModule = "ALL";
                    
                    const authScreen = document.getElementById('auth-screen');
                    if (authScreen) {
                        authScreen.style.opacity = '0';
                        setTimeout(() => {
                            authScreen.classList.add('hidden');
                            
                            setTimeout(() => {
                                DreamOS.App.showNotification("üëª GHOST MODE ACTIVATED", "success");
                                DreamOS.App.playFrequency(528, 2000);
                                
                                setTimeout(() => {
                                    alert("Ô∑Ω\n\nGHOST MODE ACTIVE\n\nThe Invisible Architect is here.\n\nNo logs will be recorded.\nAll modules unlocked.\nSystem integrity: 100%\n\nWelcome back, Sayyidina.");
                                    DreamOS.App.playFrequency(432, 3000);
                                }, 500);
                            }, 300);
                        }, 500);
                    }
                },
                
                success: function(module, username) {
                    this.authenticated = true;
                    this.ghostMode = false;
                    DreamOS.App.state.isGhost = false;
                    DreamOS.App.state.currentUser = username;
                    this.state.currentModuleLevel = module;
                    DreamOS.App.state.currentModule = module;
                    
                    const authScreen = document.getElementById('auth-screen');
                    if (authScreen) {
                        authScreen.style.opacity = '0';
                        setTimeout(() => {
                            authScreen.classList.add('hidden');
                            DreamOS.App.logAudit('LOGIN_SUCCESS', { module, user: username });
                        }, 500);
                    }
                    
                    const welcomes = {
                        umum: `User Umum: Akses Booking & K3 Forms`,
                        sekuriti: `Laporan Sekuriti: Siap menerima laporan harian`,
                        admin: `Admin System: Selamat datang, Pak Erwin`,
                        cs: `CS Harian: Checklist kebersihan siap diisi`,
                        stok: `Stok & Alat: Manajemen inventaris aktif`,
                        maintenance: `Maintenance: Form perbaikan siap digunakan`,
                        inventaris: `Inventaris: Database aset terbuka`,
                        gudang: `Gudang: Stok logistik dalam pengawasan`
                    };
                    
                    const welcomeMsg = welcomes[module] || `Selamat datang, ${username}!`;
                    DreamOS.App.showNotification(welcomeMsg, 'success');
                    DreamOS.App.playFrequency(432, 1000);
                },
                
                failedAttempt: function(reason) {
                    this.failedAttempts++;
                    DreamOS.App.logAudit(`AUTH_FAILED_${this.failedAttempts}_${reason}`);
                    
                    if (this.failedAttempts >= this.maxAttempts) {
                        this.lockSystem();
                    } else {
                        const remaining = this.maxAttempts - this.failedAttempts;
                        let errorMsg = `Login gagal! Sisa percobaan: ${remaining}`;
                        
                        if (reason === "GHOST_AUTH_FAILED") {
                            errorMsg = "Otorisasi Ghost Mode gagal! Pastikan bypass code valid.";
                        } else if (reason === "INVALID_MODULE") {
                            errorMsg = "Modul tidak valid!";
                        }
                        
                        DreamOS.App.showNotification(errorMsg, 'error');
                        
                        const authScreen = document.getElementById('auth-screen');
                        if (authScreen) {
                            authScreen.style.animation = 'shake 0.5s';
                            setTimeout(() => {
                                authScreen.style.animation = '';
                            }, 500);
                        }
                        
                        if (navigator.vibrate) {
                            navigator.vibrate(200);
                        }
                    }
                },
                
                lockSystem: function() {
                    document.body.innerHTML = `
                        <div style="
                            position: fixed;
                            inset: 0;
                            background: linear-gradient(135deg, #7f1d1d, #000);
                            display: flex;
                            flex-direction: column;
                            align-items: center;
                            justify-content: center;
                            text-align: center;
                            padding: 1.5rem;
                            color: white;
                            font-family: 'Inter', sans-serif;
                        ">
                            <div style="font-size: 4rem; color: #fbbf24; margin-bottom: 2rem; animation: pulse 2s infinite;">
                                <i class="fas fa-ban"></i>
                            </div>
                            <h1 style="font-family: 'Orbitron'; font-size: 2.5rem; font-weight: bold; margin-bottom: 1rem;">
                                SISTEM DIKUNCI
                            </h1>
                            <p style="font-size: 1.25rem; color: #cbd5e1; margin-bottom: 2rem;">
                                Terlalu banyak percobaan gagal.<br>Hubungi Administrator.
                            </p>
                            <div style="font-family: 'Orbitron'; font-size: 2rem; color: #00f3ff; margin-bottom: 2rem;" id="lock-timer">
                                10:00
                            </div>
                            <div style="color: #94a3b8; font-size: 0.875rem;">
                                Device Hash: ${DreamOS.App.state.deviceHash || 'UNKNOWN'}<br>
                                Insiden dilaporkan ke Audit Trail<br>
                                Kode Insiden: ${Math.floor(100000 + Math.random() * 900000)}
                            </div>
                        </div>
                    `;
                    
                    let seconds = 600;
                    const timer = setInterval(() => {
                        seconds--;
                        const mins = Math.floor(seconds / 60);
                        const secs = seconds % 60;
                        const timerEl = document.getElementById('lock-timer');
                        if (timerEl) {
                            timerEl.textContent = `${String(mins).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
                        }
                        
                        if (seconds <= 0) {
                            clearInterval(timer);
                            location.reload();
                        }
                    }, 1000);
                    
                    DreamOS.App.triggerSecurityBreach('BRUTE_FORCE_ATTEMPT');
                }
            },

            // ==================== EXPORT FUNCTIONS ====================
            QuantumVault,
            AdvancedGeoLock,
            SteganographyWatermark,
            CloudflareOptimizer,
            version: '13.1.9-quantum-seal'
        };

        // ==================== SERVICE WORKER REGISTRATION ====================
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker-nuclear.js')
                    .then(registration => {
                        console.log('ServiceWorker registered:', registration.scope);
                        
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    console.log('New version available!');
                                    DreamOS.App.showNotification('Update tersedia, refresh untuk versi terbaru', 'info');
                                }
                            });
                        });
                    })
                    .catch(error => {
                        console.log('ServiceWorker registration failed:', error);
                    });
            });
        }

        // ==================== SYSTEM STARTUP ====================
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                DreamOS.App.init();
            }, 100);
        });

        // ==================== GLOBAL EXPORT ====================
        window.DreamOS = DreamOS;

        console.log(`
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë   DREAM OS v13.1.9 - QUANTUM SEAL EDITION ‚ïë
‚ïë   ISO 27001 ‚Ä¢ 55001 ‚Ä¢ 9001 CERTIFIED     ‚ïë
‚ïë   Architect: Mr. M | Dream Team           ‚ïë
‚ïë   Bismillah bi idznillah                  ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
        `);
    </script>

    <!-- ==================== DYNAMIC MANIFEST GENERATION ==================== -->
    <script>
        // Generate dynamic manifest untuk PWA
        (function() {
            const manifest = {
                "name": "DREAM OS v13.1.9",
                "short_name": "DREAM OS",
                "description": "ISO 27001/55001/9001 Certified Management System - Quantum Seal Edition",
                "start_url": "/?source=pwa&v=13.1.9",
                "scope": "/",
                "display": "standalone",
                "display_override": ["window-controls-overlay", "minimal-ui"],
                "orientation": "portrait-primary",
                "background_color": "#050810",
                "theme_color": "#00ff9d",
                "categories": ["business", "productivity", "security"],
                "launch_handler": {
                    "client_mode": "navigate-existing"
                },
                "capture_links": "existing-client-navigate",
                "handle_links": "preferred",
                "protocol_handlers": [
                    {
                        "protocol": "web+dreamos",
                        "url": "/?action=%s&v=13.1.9"
                    }
                ],
                "shortcuts": [
                    {
                        "name": "Security Report",
                        "short_name": "Security",
                        "description": "Create security incident report",
                        "url": "/?module=security&v=13.1.9",
                        "icons": [{
                            "src": "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='45' fill='%23ef4444'/><text x='50' y='60' font-family='Arial' font-size='40' fill='white' text-anchor='middle'>S</text></svg>",
                            "sizes": "96x96"
                        }]
                    },
                    {
                        "name": "K3 Form",
                        "short_name": "K3",
                        "description": "Keselamatan & Kesehatan Kerja",
                        "url": "/?module=k3&v=13.1.9",
                        "icons": [{
                            "src": "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='45' fill='%23f59e0b'/><text x='50' y='60' font-family='Arial' font-size='40' fill='white' text-anchor='middle'>K</text></svg>",
                            "sizes": "96x96"
                        }]
                    }
                ],
                "icons": [
                    {
                        "src": "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23050810'/><text x='50' y='55' font-family='Amiri Local' font-size='24' fill='%2300ff9d' text-anchor='middle'>Ÿá</text></svg>",
                        "sizes": "192x192",
                        "type": "image/svg+xml",
                        "purpose": "any maskable"
                    },
                    {
                        "src": "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23050810'/><text x='50' y='55' font-family='Amiri Local' font-size='48' fill='%2300ff9d' text-anchor='middle'>Ÿá</text></svg>",
                        "sizes": "512x512",
                        "type": "image/svg+xml",
                        "purpose": "any maskable"
                    }
                ]
            };

            const manifestBlob = new Blob([JSON.stringify(manifest, null, 2)], {
                type: 'application/json'
            });
            
            const manifestURL = URL.createObjectURL(manifestBlob);
            
            const link = document.createElement('link');
            link.rel = 'manifest';
            link.href = manifestURL;
            document.head.appendChild(link);
        })();
    </script>

</body>
</html>
